<!DOCTYPE html>
<html>
<head>
    <title>Churn Prediction API Examples</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .endpoint {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .method {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
        }
        .get { background: #61affe; color: white; }
        .post { background: #49cc90; color: white; }
        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .response {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }
        .request {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }
    </style>
</head>
<body>
    <h1>Churn Prediction API</h1>
    
    <div class="endpoint">
        <h2><span class="method get">GET</span>/health</h2>
        <p>Check API health and model status</p>
        
        <h3>Example Request:</h3>
        <pre class="request">curl http://localhost:5000/health</pre>
        
        <h3>Example Response:</h3>
        <pre class="response">{
  "status": "healthy",
  "model_version": "production",
  "model_loaded": true
}</pre>
    </div>

    <div class="endpoint">
        <h2><span class="method post">POST</span>/predict</h2>
        <p>Get churn prediction for a single customer</p>
        
        <h3>Example Request:</h3>
        <pre class="request">curl -X POST http://localhost:5000/predict \
  -H "Content-Type: application/json" \
  -d '{
    "customerID": "7590-VHVEG",
    "gender": "Female",
    "SeniorCitizen": 0,
    "Partner": "Yes",
    "Dependents": "No",
    "tenure": 1,
    "PhoneService": "No",
    "MultipleLines": "No phone service",
    "InternetService": "DSL",
    "OnlineSecurity": "No",
    "OnlineBackup": "Yes",
    "DeviceProtection": "No",
    "TechSupport": "No",
    "StreamingTV": "No",
    "StreamingMovies": "No",
    "Contract": "Month-to-month",
    "PaperlessBilling": "Yes",
    "PaymentMethod": "Electronic check",
    "MonthlyCharges": 29.85,
    "TotalCharges": "29.85"
  }'</pre>
        
        <h3>Example Response:</h3>
        <pre class="response">{
  "customer_id": "7590-VHVEG",
  "churn_probability": 0.8263,
  "will_churn": true,
  "recommendation": "High priority for retention",
  "predicted_at": "2024-08-19T15:30:45.123456"
}</pre>
    </div>
</body>
</html>